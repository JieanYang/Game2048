<!DOCTYPE html>
<html>
	<head data-suburl="">
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="author" content="Gogs - Go Git Service" />
		<meta name="description" content="Gogs(Go Git Service) a painless self-hosted Git Service written in Go" />
		<meta name="keywords" content="go, git, self-hosted, gogs">
		<meta name="_csrf" content="V_xIMSA7QKjRqxIfsccX46cnRG06MTQ5MzY0MTMyNzUwOTA2MjEwMw==" />
		

		<link rel="shortcut icon" href="/img/favicon.png" />

		
		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">

		<script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
		
		
		<link rel="stylesheet" href="/ng/css/ui.css">
		<link rel="stylesheet" href="/ng/css/gogs.css">
		<link rel="stylesheet" href="/ng/css/tipsy.css">
		<link rel="stylesheet" href="/ng/css/magnific-popup.css">
		<link rel="stylesheet" href="/ng/fonts/octicons.css">
		<link rel="stylesheet" href="/css/github.min.css">

		
    	<script src="/ng/js/lib/lib.js"></script>
    	<script src="/ng/js/lib/jquery.tipsy.js"></script>
    	<script src="/ng/js/lib/jquery.magnific-popup.min.js"></script>
        <script src="/ng/js/utils/tabs.js"></script>
        <script src="/ng/js/utils/preview.js"></script>
		<script src="/ng/js/gogs/issue_label.js"></script>
		<script src="/ng/js/gogs.js"></script>

		<title>shiyanlou_cs62 - Gogs: Go Git Service</title>
	</head>
	<body>
		<div id="wrapper">
		<noscript>Please enable JavaScript in your browser!</noscript>

<header id="header">
    <ul class="menu menu-line container" id="header-nav">
        
        <li class="head" id="header-nav-logo">
            <img src="/img/favicon.png" alt="avatar" class="avatar-30"/>
        </li>
        <li >
            <a href="/">首页</a>
        </li>
        <li><a href="/explore">探索</a></li>
        

        
            
        
    </ul>
</header>

<div id="repo-wrapper">
    
<div id="repo-header" class="clear">
    <div class="container clear">
        <h1 id="repo-header-name" class="left public">
            <i class="mega-octicon octicon-repo"></i>
            <a class="author" href="/guoshaofang">guoshaofang</a>
            <span class="divider">/</span>
            <a class="repo text-bold" href="/guoshaofang/shiyanlou_cs62">shiyanlou_cs62</a>
            
            
        </h1>
        <ul id="repo-header-meta" class="right menu menu-line">
            <li id="repo-header-download" class="drop">
                <a id="repo-header-download-btn" href="#">
                    <button class="btn btn-black text-bold btn-radius">
                        <i class="octicon octicon-cloud-download"></i>
                    </button>
                </a>
                <div id="repo-header-download-drop" class="drop-down">
                    <div id="repo-clone" class="clear">
                        
                        <button class="btn btn-blue left btn-left-radius" id="repo-clone-ssh" data-link="git@git.shiyanlou.com:guoshaofang/shiyanlou_cs62.git">SSH</button>
                        
                        <button class="btn btn-gray left" id="repo-clone-https" data-link="http://git.shiyanlou.com/guoshaofang/shiyanlou_cs62.git">HTTPS</button>
                        <input id="repo-clone-url" class="ipt ipt-disabled left" value="git@git.shiyanlou.com:guoshaofang/shiyanlou_cs62.git" onclick="this.select();" readonly />
                        <button id="repo-clone-copy" class="btn btn-black left btn-right-radius" data-copy-val="val" data-copy-from="#repo-clone-url" original-title="复制到剪切板" data-original-title="复制到剪切板" data-after-title="复制成功">复制链接</button>
                        <p class="text-center" id="repo-clone-help">不知道如何操作？访问 <a href="http://git-scm.com/book/en/Git-Basics-Getting-a-Git-Repository" rel="nofollow">此处</a> 查看帮助！</p>
                        <hr/>
                        <div class="text-center" id="repo-clone-zip">
                            <a class="btn btn-green btn-radius" href="/guoshaofang/shiyanlou_cs62/archive/master.zip"><i class="octicon octicon-file-zip"></i>ZIP</a>
                            <a class="btn btn-green btn-radius" href="/guoshaofang/shiyanlou_cs62/archive/master.tar.gz"><i class="octicon octicon-file-zip"></i>TAR.GZ</a>
                        </div>
                    </div>
                </div>
            </li>
            <li id="repo-header-watch">
                <a id="repo-header-watch-btn" href="/guoshaofang/shiyanlou_cs62/action/watch">
                    <button class="btn btn-gray text-bold btn-radius">
                        <i class="octicon octicon-eye-watch"></i>关注<span class="num">1</span>
                    </button>
                </a>
            </li>
            <li id="repo-header-star">
                <a id="repo-header-star-btn" href="/guoshaofang/shiyanlou_cs62/action/star">
                    <button class="btn btn-gray text-bold btn-radius">
                        <i class="octicon octicon-star"></i>点赞
                        <span class="num">0</span>
                    </button>
                </a>
            </li>
            <li id="repo-header-fork">
                <a id="repo-header-fork-btn" href="/repo/fork?fork_id=200092">
                    <button class="btn btn-gray text-bold btn-radius">
                        <i class="octicon octicon-repo-forked"></i>派生
                        <span class="num">0</span>
                    </button>
                </a>
            
            </li>
        </ul>
    </div>
</div>


    <div id="repo-content" class="clear container">
        <div id="repo-main" class="left grid-5-6">
            <p id="repo-desc">
                <span class="description">实验楼课程: [网页版2048](<a href="https://www.shiyanlou.com/courses/62)" target="_blank">https://www.shiyanlou.com/courses/62)</a> 相关代码</span>
                <a class="link" href=""></a>
            </p>
            <ul id="repo-file-nav" class="clear menu menu-line">
                
                <li id="repo-branch-switch" class="down drop">
                    <a>
                        <button class="btn btn-gray btn-medium btn-radius">
                            <i class="octicon octicon-git-branch"></i> 分支:
                            <strong id="repo-branch-current">master</strong>
                        </button>
                    </a>
                    <div class="drop-down panel">
                        <p class="panel-header text-bold">分支与标签</p>
                        
                        <div id="repo-branch-tag">
                            <ul class="menu menu-line tab-nav clear" id="repo-branch-tab-nav">
                                <li class="js-tab-nav js-tab-nav-show left" data-tab-target="#repo-branch-list"><a>分支列表</a></li>
                                <li class="js-tab-nav  left" data-tab-target="#repo-tag-list"><a>标签列表</a></li>
                            </ul>
                            <ul class="menu menu-vertical switching-list " id="repo-branch-list">
                                
                                <li class="checked"><a href="/guoshaofang/shiyanlou_cs62/src/master"><i class="octicon octicon-check"></i>master</a></li>
                                
                            </ul>
                            <ul class="menu menu-vertical switching-list hide" id="repo-tag-list">
                                
                            </ul>
                        </div>
                    </div>
                </li>
                <li id="repo-bread" class="breads">
                    <a class="title bread" href="/guoshaofang/shiyanlou_cs62/src/master">shiyanlou_cs62</a>
                    
                    
                    
                        
                        <span class="bread"><a href="/guoshaofang/shiyanlou_cs62/src/master/javascript">javascript</a></span>
                        
                    
                        
                        <span class="bread">active.js</span>
                        
                    
                </li>
                
            </ul>
            
                <div class="panel panel-radius" id="repo-read-file">
    <p class="panel-header">
        
            <i class="icon fa fa-file-text-o"></i>
            <strong class="file-name">active.js</strong><span class="file-size">7.9KB</span>
	    
        
            <a class="right" href="/guoshaofang/shiyanlou_cs62/commits/master/javascript/active.js">
                <button class="btn btn-medium btn-gray btn-right-radius btn-comb">文件历史</button>
            </a>
            <a class="right" href="/guoshaofang/shiyanlou_cs62/raw/master/javascript/active.js">
                <button class="btn btn-medium btn-gray btn-left-radius btn-comb">原始文件</button>
            </a>
        
    </p>
    <div class=" code-view" id="repo-code-view">
    	
        <table>
            <tbody>
                <tr>
                    <td class="lines-num"></td>
                    <td class="lines-code"><pre class="prettyprint linenums lang-js"><code>var flag=true;
$(document).keydown(function(event){
    if($(&#34;label&gt;input&#34;).text()==successString){
        newGame();
        return;
    }
    switch(event.keyCode){
        case 37:
            event.preventDefault();
            if(move_left()){
                setTimeout(&#34;generateOneNum()&#34;,210);
                setTimeout(&#39;isGameover()&#39;,300);
            }
            break;
        case 38:
            event.preventDefault();
            if(move_up()){
                setTimeout(&#34;generateOneNum()&#34;,210);
                setTimeout(&#39;isGameover()&#39;,300);
            }
            break;
        case 39:
            event.preventDefault();
            if(move_right()){
                setTimeout(&#34;generateOneNum()&#34;,210);
                setTimeout(&#39;isGameover()&#39;,300);
            }
            break;
        case 40:
            event.preventDefault();
            if(move_down()){
                setTimeout(&#34;generateOneNum()&#34;,210);
                setTimeout(&#39;isGameover()&#39;,300);
            }
            break;
    }
});
function move_left(){
    if(!canMove(1)){
        return false;
    }
    for(var i=0;i&lt;4;i&#43;&#43;){
        for(var j=1;j&lt;4;j&#43;&#43;){
            if(board[i][j]){
                for(var k=0;k&lt;j;k&#43;&#43;){
                    if(!board[i][k]&amp;&amp;no_block_horizontal(i,k,j)){
                        show_move_animation(i,j,i,k);
                        board[i][k]=board[i][j];
                        board[i][j]=0;
                        break;
                    }else if(board[i][k]==board[i][j]&amp;&amp;
                             no_block_horizontal(i,k,j)&amp;&amp;
                             !has_conflicted[i][k]){
                        show_move_animation(i,j,i,k);
                        board[i][k] &#43;= board[i][j];
                        board[i][j]=0;
                        score&#43;=board[i][k];
			            updateScore(score);
                        has_conflicted[i][k]=true;
                        break;
                    }
                }
            }
        }
    }
    setTimeout(&#34;updateBoardView()&#34;,200);
    return true;
}

function move_right(){
     if(!canMove(2)){
        return false;
    }
    for(var i=0;i&lt;4;i&#43;&#43;){
        for(var j=2;j&gt;=0;j--){
            if(board[i][j]){
                for(var k=3;k&gt;j;k--){
                    if(!board[i][k]&amp;&amp;no_block_horizontal(i,j,k)){
                        show_move_animation(i,j,i,k);
                        board[i][k]=board[i][j];
                        board[i][j]=0;
                        break;
                    }else if(board[i][k]==board[i][j]&amp;&amp;
                             no_block_horizontal(i,j,k)&amp;&amp;
                             !has_conflicted[i][k]){
                        show_move_animation(i,j,i,k);
                        board[i][k] &#43;= board[i][j];
                        board[i][j]=0;
                        score&#43;=board[i][k];
			            updateScore(score);
                        has_conflicted[i][k]=true;
                        break;
                    }
                }
            }
        }
    }
    setTimeout(&#34;updateBoardView()&#34;,200);
    return true;
}

function move_up(){
     if(!canMove(3)){
        return false;
    }
    for(var i=0;i&lt;4;i&#43;&#43;){
        for(var j=1;j&lt;4;j&#43;&#43;){
            if(board[j][i]){
                for(var k=0;k&lt;j;k&#43;&#43;){
                    if(!board[k][i]&amp;&amp;no_block_vertical(i,k,j)){
                        show_move_animation(j,i,k,i);
                        board[k][i]=board[j][i];
                        board[j][i]=0;
                        break;
                    }else if(board[k][i]==board[j][i]&amp;&amp;
                             no_block_vertical(i,k,j)&amp;&amp;
                             !has_conflicted[k][i]){
                        show_move_animation(j,i,k,i);
                        board[k][i] &#43;= board[j][i];
                        board[j][i]=0;
                        score&#43;=board[k][i];
			            updateScore(score);
                        has_conflicted[k][i]=true;
                        break;
                    }
                }
            }
        }
    }
    setTimeout(&#34;updateBoardView()&#34;,200);
    return true;
}

function move_down(){
     if(!canMove(4)){
        return false;
    }
    for(var j=0;j&lt;4;j&#43;&#43;){
        for(var i=2;i&gt;=0;i--){
            if(board[i][j]){
                for(var k=3;k&gt;i;k--){
                    if(!board[k][j]&amp;&amp;no_block_vertical(j,i,k)){
                        show_move_animation(i,j,k,j);
                        board[k][j]=board[i][j];
                        board[i][j]=0;
                        break;
                    }else if(board[k][j]==board[i][j]&amp;&amp;
                             no_block_vertical(j,i,k)&amp;&amp;
                             !has_conflicted[k][j]){
                        show_move_animation(i,j,k,j);
                        board[k][j] &#43;= board[i][j];
                        board[i][j]=0;
                        score&#43;=board[k][j];
			            updateScore(score);
                        has_conflicted[k][j]=true;
                        break;
                    }
                }
            }
        }
    }
    setTimeout(&#34;updateBoardView()&#34;,200);
    return true;
}
function no_block_horizontal(row,col1,col2){
    for(var i= col1&#43;1;i&lt;col2;i&#43;&#43;){
        if(board[row][i]){
            return false;
        }
    }
    return true;
}

function no_block_vertical(col,row1,row2){
    for(var i=row1&#43;1;i&lt;row2;i&#43;&#43;){
        if(board[i][col]){
            return false;
        }
    }
    return true;
}
function show_move_animation(fromX,fromY,toX,toY){
    var tem = $(&#34;tr:eq(&#34;&#43;fromX&#43;&#34;)&#34;).children(&#34;td:eq(&#34;&#43;fromY&#43;&#34;)&#34;).children(&#34;p&#34;);
    tem.animate({
        top:(toX*(100&#43;23.6)&#43;13)&#43;&#34;px&#34;,
        left:(toY*(100&#43;23)&#43;13)&#43;&#34;px&#34;
    },100);
}
function canMove(direction){
    switch(direction){
        case 1:
        case 3:
            for(var i=0;i&lt;4;i&#43;&#43;){
                for(var j=1;j&lt;4;j&#43;&#43;){
                    switch(direction){
                        case 1:
                            if(board[i][j]){
                                if(board[i][j-1]==0||board[i][j]==board[i][j-1]){
                                    return true;
                                }
                            }
                            break;
                        case 3:
                             if(board[j][i]){
                                if(board[j-1][i]==0||board[j][i]==board[j-1][i]){
                                    return true;
                                }
                             }
                             break;
                    }
                }
            }
            return false;
        case 2:
        case 4:
            for(var i=0;i&lt;4;i&#43;&#43;){
                for(var j=2;j&gt;=0;j--){
                    switch(direction){
                        case 2:
                            if(board[i][j]){
                                if(board[i][j&#43;1]==0||board[i][j]==board[i][j&#43;1]){
                                    return true;
                                }
                            }
                            break;
                        case 4:
                             if(board[j][i]){
                                if(board[j&#43;1][i]==0||board[j][i]==board[j&#43;1][i]){
                                    return true;
                                }
                             }
                             break;
                    }
                }
            }
            return false;
    }
}
function isGameover(){
    for(var i=0;i&lt;4;i&#43;&#43;){
        for(var j=0;j&lt;4;j&#43;&#43;){
            if(board[i][j]==2048){
                if(flag){
                alert(successString);
                flag = false;
                return;
                }
            }
        }
    }
    if(noSpace()&amp;&amp;noMove()){
        gameOver();
    }
}
function gameOver(){
    alert(gameOverString&#43;&#34;\n你的分数是:&#34;&#43;$(&#34;label&gt;input&#34;).val());
    newGame();
}
function noMove(){
    if(canMove(1)||canMove(2)||canMove(3)||canMove(4)){
        return false;
    }
    return true;
}</code></pre></td>
                </tr>
            </tbody>
        </table>
    	
    </div>
</div>
            
        </div>
        <div id="repo-sidebar" class="right grid-1-6">
    <ul class="menu menu-vertical" id="repo-sidebar-nav">
        <li>
            <a class="radius" href="/guoshaofang/shiyanlou_cs62/issues"><i class="octicon octicon-issue-opened"></i>工单管理<span class="num right label label-blue label-radius">0</span></a>
        </li>
        
        <li class="border-bottom"></li>
        <li class="head">master</li>
        <li>
            <a class="radius" href="/guoshaofang/shiyanlou_cs62/commits/master"><i class="octicon octicon-history"></i>提交历史 <span class="num right label label-gray label-radius">6</span></a>
        </li>
        
        <li>
            <a class="radius" href="/guoshaofang/shiyanlou_cs62/releases"><i class="octicon octicon-tag"></i>版本发布 <span class="num right label label-gray label-radius">0</span></a>
        </li>
        
        
    </ul>
</div>
    </div>
</div>
		</div>
		<footer id="footer">
		    <div class="container clear">
		        <p class="left" id="footer-rights">© 2015 Gogs · 当前版本: 0.6.2.0 · 页面: <strong>484ms</strong> ·
		            模板: <strong>1ms</strong></p>

		        <div class="right" id="footer-links">
		        		
		            <div id="footer-lang" class="inline drop drop-top">语言选项
		                <div class="drop-down">
		                    <ul class="menu menu-vertical switching-list">
		                    	
		                        <li><a href="#">简体中文</a></li>
		                        
		                        <li><a href="/guoshaofang/shiyanlou_cs62/src/master/javascript/active.js?lang=en-US">English</a></li>
		                        
		                        <li><a href="/guoshaofang/shiyanlou_cs62/src/master/javascript/active.js?lang=zh-HK">繁體中文</a></li>
		                        
		                        <li><a href="/guoshaofang/shiyanlou_cs62/src/master/javascript/active.js?lang=de-DE">Deutsch</a></li>
		                        
		                        <li><a href="/guoshaofang/shiyanlou_cs62/src/master/javascript/active.js?lang=fr-FR">Français</a></li>
		                        
		                        <li><a href="/guoshaofang/shiyanlou_cs62/src/master/javascript/active.js?lang=nl-NL">Nederlands</a></li>
		                        
		                        <li><a href="/guoshaofang/shiyanlou_cs62/src/master/javascript/active.js?lang=lv-LV">Latviešu</a></li>
		                        
		                        <li><a href="/guoshaofang/shiyanlou_cs62/src/master/javascript/active.js?lang=ru-RU">Русский</a></li>
		                        
		                        <li><a href="/guoshaofang/shiyanlou_cs62/src/master/javascript/active.js?lang=ja-JP">日本语</a></li>
		                        
		                        <li><a href="/guoshaofang/shiyanlou_cs62/src/master/javascript/active.js?lang=es-ES">Español</a></li>
		                        
		                        <li><a href="/guoshaofang/shiyanlou_cs62/src/master/javascript/active.js?lang=pt-BR">Português</a></li>
		                        
		                        <li><a href="/guoshaofang/shiyanlou_cs62/src/master/javascript/active.js?lang=pl-PL">Polski</a></li>
		                        
		                    </ul>
		                </div>
		            </div>
			    <script>
			            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			             (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			             m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			             })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
			            ga('create', 'UA-89338452-1', 'auto');
			            ga('send', 'pageview');
			            </script>
		        </div>
		    </div>
		</footer>
	</body>
</html>

